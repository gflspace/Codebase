# QwickServices CIS Laravel Integration
# Copy these variables to your Laravel .env file

# ============================================
# CIS Backend Configuration
# ============================================

# Enable/disable CIS integration globally
CIS_ENABLED=true

# CIS backend API base URL
# Development: http://localhost:3001
# Production: https://cis.yourdomain.com
CIS_BASE_URL=http://localhost:3001

# Shared HMAC secret for request signing
# MUST match WEBHOOK_SECRET in CIS backend
# Generate with: openssl rand -hex 32
CIS_WEBHOOK_SECRET=your-secret-here

# Source identifier (appears in webhook headers)
CIS_SOURCE=qwickservices

# ============================================
# Timeout Configuration (seconds)
# ============================================

# Webhook dispatch timeout
CIS_WEBHOOK_TIMEOUT=5.0

# Pre-transaction evaluation timeout (keep low!)
CIS_EVALUATE_TIMEOUT=0.2

# Health check timeout
CIS_HEALTH_TIMEOUT=2.0

# ============================================
# Queue & Async Configuration
# ============================================

# Use queue for async webhook dispatch
CIS_ASYNC=true

# Queue connection (redis recommended)
CIS_QUEUE_CONNECTION=redis

# Queue name for CIS webhooks
CIS_QUEUE_NAME=cis-webhooks

# ============================================
# Retry Configuration
# ============================================

# Number of retry attempts for failed requests
CIS_RETRY_ATTEMPTS=3

# Base delay between retries (milliseconds)
# Uses exponential backoff: delay * 2^(attempt-1)
CIS_RETRY_DELAY_MS=1000

# ============================================
# Failure Handling
# ============================================

# Fail-open mode: allow requests when CIS unavailable
# true = allow requests (recommended for most cases)
# false = reject requests (high-security environments)
CIS_FAIL_OPEN=true

# ============================================
# Debug & Logging
# ============================================

# Enable verbose CIS logging
CIS_DEBUG=false
