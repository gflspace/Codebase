# QwickServices CIS — Production Environment Variables
# Copy to /opt/cis/.env on the VPS and fill in real values.
# NEVER commit the actual .env file to version control.

# ─── Server ───────────────────────────────────────────────────
NODE_ENV=production
PORT=3001
API_BASE_URL=https://api.qwickservices.com

# ─── Database (PostgreSQL) ────────────────────────────────────
DB_HOST=localhost
DB_PORT=5432
DB_NAME=qwick_cis_prod
DB_USER=cis_app_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_SSL=false

# ─── Authentication ──────────────────────────────────────────
# REQUIRED IN PRODUCTION — generate with: openssl rand -hex 64
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL
JWT_EXPIRES_IN=24h

# HMAC for service-to-service auth (Sidebase → CIS)
HMAC_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL

# ─── Enforcement Controls ────────────────────────────────────
# Start with shadow mode ON — switch to false after validation
SHADOW_MODE=true
ENFORCEMENT_KILL_SWITCH=false

# ─── Logging ─────────────────────────────────────────────────
LOG_LEVEL=info

# ─── Dashboard ───────────────────────────────────────────────
DASHBOARD_URL=https://admin.qwickservices.com

# ─── Redis (Durable Event Bus) ───────────────────────────────
# Set EVENT_BUS_BACKEND=redis to enable durable event queue
REDIS_URL=redis://localhost:6379
EVENT_BUS_BACKEND=redis

# ─── Rate Limiting ───────────────────────────────────────────
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=100
RATE_LIMIT_AI_MAX=10
RATE_LIMIT_WRITE_MAX=30

# ─── OpenAI (Optional — for AI-assisted risk summaries) ──────
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# ─── Graceful Shutdown ───────────────────────────────────────
SHUTDOWN_TIMEOUT_MS=10000
